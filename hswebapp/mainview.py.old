from flask import render_template,flash, redirect, url_for, request
from hswebapp import app,db




@app.route('/')
@app.route('/index')
def home():
    return render_template('home.html')


@app.route('/addframe', methods=['GET','POST'])
def addframe():
    form = FrameworkForm()
    if form.validate_on_submit():
        framework = form.framework.data
        description = form.description.data
      
        

        flash("Stored: ' framework {} and description {}'".format(framework,description))
        return redirect(url_for('home'))

    return render_template('add_framework.html',form=form)




@app.route("/temperature")
def temp():
	import sys
	import Adafruit_DHT
	humidity, temperature = Adafruit_DHT.read_retry(Adafruit_DHT.AM2302, 22)
	if humidity is not None and temperature is not None:
		return render_template("app_temp.html",temp=temperature,hum=humidity)
	else:
		return render_template("no_sensor.html")













@app.route('/frame', methods=["GET"])
def listframe():
    if request.method == "GET":
       return render_template("frameworks.html", frameworks= None)

@app.route('/about1', methods=["GET"])
def about1():
    return render_template("about.html",varh='about')


@app.errorhandler(404)
def page_not_found(e):
    return render_template("404.html"),404

@app.route('/register', methods=["GET"])
def register():
    return render_template("about.html",)

@app.route('/login', methods=["GET"])
def login():
    return render_template("about.html")

@app.route('/teste', methods=["GET"])
def teste():
    return render_template("development.html")


