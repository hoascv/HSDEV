{% extends "layout.html" %}

{% block meta %}
<meta http-equiv="refresh" content="60">

<head>
   <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
   <script type="text/javascript">
      google.charts.load('current', {'packages':['gauge']});
      google.charts.setOnLoadCallback(drawChartTemp);
	  google.charts.setOnLoadCallback(drawChartHum);
	  google.charts.setOnLoadCallback(drawChartPressure);
	   
      function drawChartTemp() {

        var data = google.visualization.arrayToDataTable([
          ['Label', 'Value'],
          ['Temp ÂºC', {{temperature}}]
         
        ]);

        var temp_options = {
		  min: -10, max: 50,
          width: 440, height: 132,
		  greenFrom:20, greenTo:30,
          redFrom: 35, redTo: 50,
          yellowFrom:30, yellowTo: 35,
          minorTicks: 5
        };

        var chart = new google.visualization.Gauge(document.getElementById('chart_temp_div'));
		chart.draw(data, temp_options);    
        
      }
	  
	  function drawChartHum() {

        var data = google.visualization.arrayToDataTable([
          ['Label', 'Value'],
          ['Humidity %', {{humidity}}]
        ]);

        var humidity_options = {
		  min: 0, max: 100,
          width: 440, height: 132,
		  greenFrom:30, greenTo:50,
          redFrom: 50, redTo: 100,
          
          minorTicks: 5
        };

        var chart = new google.visualization.Gauge(document.getElementById('chart_humidity_div'));
		chart.draw(data, humidity_options);    
        
      }
	  function drawChartPressure() {

        var data = google.visualization.arrayToDataTable([
          ['Label', 'Value'],
          ['Pressure hPa', {{pressure}}]
        ]);

        var pressure_options = {
		  min: 960, max: 1040,
          width: 440, height: 132,
		  greenFrom:20, greenTo:30,
          redFrom: 35, redTo: 50,
          yellowFrom:30, yellowTo: 35,
          minorTicks: 5
        };

        var chart = new google.visualization.Gauge(document.getElementById('chart_pressure_div'));
		chart.draw(data, pressure_options);    
        
      }	  	  
    </script>
  </head>


{% endblock %}

{% block content %}
    
 
	
	<div class="container">
       <div class="col-xs-6 col-sm-3 col-md-2"  >
				<div id="chart_temp_div" style="width: 400px; height: 120px;"></div>
	   </div>
	  
	   <div class="col-xs-6 col-sm-3 col-md-2" >
				<div id="chart_humidity_div" style="width: 400px; height: 120px" ></div>
	   </div>
   	  	
	   <div class="col-xs-6 col-sm-3 col-md-2" >
				<div id="chart_pressure_div" style="width: 400px; height: 120px"></div>
          
       </div>      
    </div>    
	
   


	
{% endblock %}